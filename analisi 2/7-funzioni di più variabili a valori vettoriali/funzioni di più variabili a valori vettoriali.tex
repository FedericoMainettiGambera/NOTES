\section{Funzioni di più variabili a valori vettoriali}
\subsection{Campi vettoriali}
Un campo vettoriale $F: \mathbb{R}^n \rightarrow  \mathbb{R}^m$ è una funzione che ad ogni  punto dello spazio $\mathbb{R}^n$ associa un vettore di $\mathbb{R}^m$.
\[
    F(\vec{x}) = \left(F_1(\vec{x}), \dots, f_m(\vec{x})\right) = \sum_{h=1}^{m} F_h(\vec{x})e_h
\]
dove le componenti $F_h$ sono funzioni scalari e gli $e_h$ rappresentano i vettori della base canonica di $\mathbb{R}^m$. Se tutte le componenti $F_h$ sono di classe $C^1$, diremo che $F \in C^1(\mathbb{R}^n, \mathbb{R}^m)$\newline
\newline
\textbf{oss.} $n=m=1$ funzione reale di variabile reale; $n=1, m \geq 2$ curva; $n \geq 2, m = 1$ funzione scalare di più variabili.\newline
\newline
\newline
Sia $\Omega \in \mathbb{R}^3$ un aperto, dato un campo $F \in C^1(\Omega, \mathbb{R}^3)$, chiameremo \textbf{linea di campo} di $F$ una curva regolare che in ongi punto del suo sostegno sia tangente a $F$.\newline
Con questa definizione si caratterizza una linea di campo di $F \in C^1(\mathbb{R}^3, \mathbb{R}^3)$ con una curva regolare $r = r(t)$ tale che $r'(t)$ sia proporzionale a $F(r(t))$. Dato che il coefficiente di proporzionalità è variabile possiamo scrivere:
\[
    r'(t) = p(t) F(r(t))
\]
dove $p(t)$ rappresenta la proporzionalità. Notiamo che $p(t) \neq 0$ per ogni $t$, quindi o $p(t) > 0$ (verso di percorrenza e flusso coincidono) o $p(t) < 0$ (verso di percorrenza opposto al flusso).
\[
    \left(\begin{matrix}
        x'(t)\\
        y'(t)\\
        z'(t)
    \end{matrix}\right) = p(t) \left(\begin{matrix}
        F_1(x(t),y(t),z(t))\\
        F_2(x(t),y(t),z(t))\\
        F_3(x(t),y(t),z(t))
    \end{matrix}\right)
\]
\[
    \frac{x'(t)}{F_1(x(t),y(t),z(t))} = 
    \frac{y'(t)}{F_2(x(t),y(t),z(t))} = 
    \frac{z'(t)}{F_3(x(t),y(t),z(t))}
\]
\[
    \frac{dx}{F_1(x,y,z)} = 
    \frac{dy}{F_2(x,y,z)} = 
    \frac{dz}{F_3(x,y,z)}
\]
e le linee di campo si ottengono integrando:
\[
    \int \frac{dx}{F_1(x,y,z)} = 
    \int \frac{dy}{F_2(x,y,z)} = 
    \int \frac{dz}{F_3(x,y,z)}
\]
\ \newline
\newline
Chiamiamo \textbf{rotore} di un campo $F \in C^1(\mathbb{R}^3, \mathbb{R}^3)$ il vettore
\[
    rot(F) = \nabla \land F = \left|\begin{matrix}
        \vec{i} & \vec{j} & \vec{k} \\
        \frac{\delta }{\delta x} & \frac{\delta }{\delta y} & \frac{\delta }{\delta z}\\
        F_1 & F_2 & F_3
    \end{matrix} \right|
\]
Un campo a rotore nullo viene chiamato \textbf{irrotazionale}.\newline
Per calcolare il rotore di una funzione $F \in C^1(\mathbb{R}^2, \mathbb{R}^2)$, è sufficiente immergerlo in $\mathbb{R}^3$, ponendo $F(x,Y) = (F_1(x,y), F_2(x,y)) \rightarrow  F(x,y,z) = (F_1(x,y), F_2(x,y), 0)$ e si trova:
\[
    rot(F) = \nabla\land F = \left(\frac{\delta F_2}{\delta x} - \frac{\delta F_1}{\delta y}\right)\vec{k}
\]
Quindi il rotore è perpendicolare al piano del campo.\newline
Anche in tre dimensioni il rotore individue una direzione che è perpendicolare al piano che localmente tende a contenere le linee di campo.\newline
Il modulo del rotore misura la tendenza a ruotare attorno all'asse della sua direzione. Se le linee di campo tendono ad avvolgersi attorno all'asse, il rotore avrà il verso della vite che ruota nel verso delle linee di campo. Se il rotore è nullo, non c'è effetto rotatorio.\newline
\newline
\newline
Chiamiamo \textbf{divergenza} di un campo $F \in C^1(\mathbb{R}^3, \mathbb{R}^3)$ lo scalare
\[
    div(F) = \nabla \cdot F = \frac{\delta F_1}{\delta x} +\frac{\delta F_2}{\delta y} +\frac{\delta F_3}{\delta z}
\]
Un campo a divergenza nulla viene chiamato \textbf{solenoidale}.\newline
La divergenza in $n=1$ coincide con la derivata di una funzione scalare.\newline
\newline
\newline
\textbf{oss.} 
\[
    \nabla \land (\nabla u) = rot(\nabla u) = 0 \quad \quad \;\forall\;u \in C^2(\Omega, \mathbb{R}), \;\;\; \text{cioè un gradiente è irrotazionale;}
\]
\[
    \nabla \cdot  (\nabla \land F) = div(rot(F)) = 0 \quad \quad \;\forall\; F \in C^2(\Omega, \mathbb{R}^3), \;\;\;\text{cioè un rotore è solenoidale;}
\]
\[
    \nabla \cdot (\nabla u) = div(\nabla u) = \nabla u \quad \quad \;\forall\;u \in C^2(\Omega, \mathbb{R}).
\]
\subsection{Lavoro di un campo vettoriale}
\subsubsection{Definizioni}
Sostenzialmente il lavoro è dato dalla forza per lo spostamento.\newline
\newline
\textbf{def.} Sia $\gamma$ il sostegno orientato di una curva regolare a tratti $r: I \rightarrow \mathbb{R}^n$ e sia $F \in C ^0(\mathbb{R}^n, \mathbb{R}^n)$. Si chiama \textbf{lavoro} di $F$ lungo $\gamma$ l'integrale di linea
\[
    L_\gamma (F) = \int_{\gamma} F \cdot dr = \int_{I} F(r(t))\cdot r'(t) dt
\]
Sia $I = [a,b]$, da un punto di vista fisico, $L_\gamma(F)$ rappresenta il lavoro che compie la forza $F$ per spostare il suo punto di applicazione lungo $\gamma$ da $r(a)$ a $r(b)$.\newline
Rispetto al classico integrale di linea che non cambia se riparametriziamo la curva con verso opposto, l'integrale che calcola il lavoro cambia segno se la curva cambia verso.\newline
\newline
Notiamo che l'integrale che serve per il calcolo del lavoro cambia segno se la curva cambia verso.
\newline
\newline
Diremo che $F \in C^1(\Omega, \mathbb{R}^n)$ è \textbf{conservativo} se esite una funzione reale $U \in C^2(\Omega, \mathbb{R})$, che chiameremo \textbf{potenziale} di $F$, tale che $\nabla U = F$.\newline
\newline
Pertanto, se esiste, il potenziale $U$ ha derivate parziali che coincidono con le componenti del campo $F$, inoltre, sempre se esiste, il potenziale $U$ è unico a meno di una costante additiva.\newline
\newline
\textbf{teor.} 
\[
    F \; \text{conservativo}\; \Longrightarrow F \; \text{irrotazionale}\;
\]
da cui ricaviamo che se $F$ non è irrotazionale, allora non è conservativo.\newline
\newline
Il lavoro di $F$ lungo un qualunque sostegno $\gamma$ si esprime come
\[
    L_\gamma(F) = \int_{a}^{b}\nabla U(r(t)) \cdot r'(t) dt = U(r(b)) - U(r(a))
\]
Questa espressione ci dice che il lavoro di un campo conservativo si calcola come differenza di potenziale e che il lavoro di un campo conservativo non dipende dalla curva di percorrenza, ma solo dai suoi estremi. Inoltre il lavoro di $F$ lungo il sostegno di una qualunque linea chiusa è nullo.\newline
\newline
\textbf{teor.} SIa $\Omega \subset \mathbb{R}^n$ un aperto; un campo $F \in C^1(\Omega,\mathbb{R}^n)$ è \textbf{conservativo} se e solo se vale una delle condizioni seguenti (equivalenti fra di loro):
\begin{itemize}
    \item Il lavoro di $F$ lungo un qualunque sostegno orientato $\gamma$ si esprime tramite $L_\gamma(F) = \int_{a}^{b}\nabla U(r(t)) \cdot r'(t) dt = U(r(b)) - U(r(a))$;
    \item il lavoro di $F$ lungo il sostegno orientato di qualunque coppia di curve coincidenti agli estremi è uguale;
    \item il lavoro di $F$ lungo il sostegno di una qualunque linea chiusa è nullo.
\end{itemize}
\ \newline
\textbf{def.} Un insieme $\Omega \subset \mathbb{R}^n$ si dice \textbf{semplicemente connesso} se ogni linea chiusa $\gamma \subset \Omega$ è contraibile in $\Omega$ a un punto di $\Omega$. In altre parole, partendo da una linea chiusa $\gamma \subset \Omega$ deve essere possibile contrarla con continuità, fino a ridurla a un punto e questo deve avvenire sempre rimanendo in $\Omega$.\newline
In parole povere, in $\mathbb{R}^2$ un insieme si dice semplicemente connsesso se è fatto da un "pezzo unico" e non ha buchi (anche di un solo punto), in $\mathbb{R}^3$ un buco puntuale non è sufficiente a far perdere questa proprietà, ma deve esserci un buco della forma simile a quella di un segmento perchè l'insieme non sia semplicemente connesso.\newline
\newline
\textbf{teor.} sia $\Omega$ un insieme semplicemente connesso, e sia $F$, allora
\[
    F \; \text{conservativo}\; \Longleftrightarrow F \; \text{irrotazionale}\;
\]
Da notare è il fatto che sia una condizione sufficiente, non necessaria.\newline
Notiamo anche che un campo irrotazionale è sempre localmente conservativo.
\subsubsection{Calcolo del lavoro}
Per sapere se un campo è conservativo:
\begin{itemize}
    \item si controlla se è irrotazionale:
    \begin{itemize}
        \item se non lo è, il campo non è conservativo, e per calcolarne il lavoro dobbiamo per forza usare la definizione (vedi metodi sotto).
        \item se lo è, dobbiamo vedere se il dominio dove è definito è semplicemente connesso:
        \begin{itemize}
            \item se lo è, il campo è conservativo (vedi metodi sotto per il calcolo del lavoro).
            \item se non lo è, non possiamo concludere nulla a priori e quindi siamo costretti a provare a costruire un potenziale, che se è differenziabile in tutto il dominio, $F$ è conservativo.
        \end{itemize}
    \end{itemize}
\end{itemize}
Come trovare un potenziale di un campo conservativo:
\begin{itemize}
    \item \textbf{Metodo 1:}Dato un campo $F(x,y,z) = (F_1(x,y,z), F_2(x,y,z), F_3(x,y,z))$, $F \in C^1(\mathbb{R}^3, \mathbb{R}^3)$, cerchiamo una funzione $U \in C^2(\mathbb{R}^3, \mathbb{R})$ tale che
    \[
        U_x(x,y,z) = F_1(x,y,z)
    \]
    \[
        U_y(x,y,z) = F_2(x,y,z)
    \]
    \[
        U_z(x,y,z) = F_3(x,y,z)
    \]
    Analiziamo il procedimento per la prima di queste: integriamo rispetta a $x$, ma trattandosi di un integrale indefinito abbiamo una costante indefinita che potrebbe dipendere da $y$ e $z$:
    \[
        U(x,y,z) = \int F_1(x,y,z)dx + \phi(y,z)
    \]
    Dunque
    \[
        U(x,y,z) = \int F_2(x,y,z)dy + \phi(x,z)
    \]
    \[
        U(x,y,z) = \int F_3(x,y,z)dz + \phi(x,y)
    \]
    Se riusciamo a trovare un'espressione che si possa esprimere contemporaneamente in queste tre forme, quella sarebbe un potenziale. A livello pratico $U(x,y,z)$ è uguale a tutti i termini che compaiono nelle tre equazioni viste sopra, senza ripetere gli elementi (per esempio se nella prima equazione esce $U = x + \phi(...)$ e nella seconda $U = x + y + \phi(...)$ e nella terza $U = z + \phi(...)$, il potenziale sarà $U = x +y +z$, cioè senza ripetere i termini uguali).
    \item \textbf{Metodo 2:} Sia $F(x,y,z) = X(x,y,z)\vec{i} + Y(x,y,z)\vec{j} + Z(x,y,z)\vec{k}$ conservativo, esiste $U(x,y,z)$ tale che
    \[
        \frac{\delta U}{\delta x} = X(x,y,z) \quad \quad \frac{\delta U}{\delta y} = Y(x,y,z) \quad \quad \frac{\delta U}{\delta z} = Z(x,y,z)
    \]
    Ora si considera la più semplice di queste euqazioni, immaginiamo sia la prima.\newline
    Per determinare $U$ prendiamo una primitiva di $U_x$ in cui $y$ e $z$ figurano come costanti:
    \[
        f(x,y,z) = \int X(x,y,z)dx + H(y,z)
    \]
    Se adesso deriviamo rispetto a $y$, il risultato deve corrispondere a $Y$:
    \[
        \frac{\delta f}{\delta y}(x,y,z) = Y (x,y,z)
    \]
    Questa relazione ci permette di determinare la "porzione" di $H(y,z)$ che dipende da $y$, quindi sostituendo questa in $f(x,y,z)$ e quindi trasformando $H(y,z)$ in solo $H(z)$ e riderivando rispetto a $z$ e uguagliando il risultato a $Z(x,y,z)$, troveremo l'espressione definitava di $U$, a meno di una costante arbitraria.
    \item \textbf{Metodo 3}: calcolo del lavoro con la definizione:
    \[
        L_\gamma (F) = \int_{\gamma} F \cdot dr = \int_{I} F(r(t))\cdot r'(t) dt
    \]
    Per calcolarlo usiamo il seguente metodo:\newline
    Dati un campo vettoriale e una linea orientata
    \[
        F(x,y) = X(x,y,z) \vec{i} + Y(x,y,z)\vec{j},
    \]
    \[
        l: r(t) = [x(t)]\vec{i} + [y(t)]\vec{j}, \;\;\; \;\forall\;t \in[a,b]
    \]
    il lavoro da $r(a)$ a $r(b)$ è dato dall'integrale di linea:
    \[
        L_{AB}= \int_{l} F \cdot  dr = \int_{l}[X(x,y)dx + Y(x,y)dy]
    \]
    Questo integrale si può trasformare in un integrale nella variabile $t$ ponendo al posto di $x$ e $y$ i valori $x(t)$ e $y(t)$, e ponendo $dx = x'(t) dt$ e $dy = y'(t) dt$, ossia:
    \[
        L_{AB} = \int_{a}^{b} \left[X(x(t), y(t)) \; x'(t) + Y(x(t),y(t)) \;y'(t)\right]dt
    \]
    Con $a$ e $b$ estremi tali che se $t=a$ e $t=b$ la funzione della curva $r(t)$ valga i suoi estremi.\newline
    \newline
    Se la linea $l$ è chiusa, allora il lavoro compiuto da $F$ per compiere un giro (in senso antiorario) lungo $l$ prende il nome di \textbf{circuitazione}.
\end{itemize}
\textbf{oss.} se $U$ è un potenziale di $F$, cioè $grad(U) = F$, anche $grad(U+C) = F$, e quindi anche $U+C$ è un potenziale per $F$, pertando, se $F$ è conservativo esistono infiniti potenziali di $F$, che differiscono per una costante.\newline
\newline
\textbf{oss.} è sempre possibile  verificare l'esattezza dei propri conti nella ricerca di un potenziale: $grad(U) = F$, dunque calcolando le derivate parziali di $U$ dovremmo trovare le componenti di $F$.\newline
\newline
\textbf{oss.} Bisogna sempre verificare che il dominio sia un insieme semplicemente connesso, se non lo fosse bisogna suddividere il dominio in tanti intervalli semplicemente connessi e specificare che il potenziale vale per ognuno di questi separatamente.
\subsubsection{Forme differenziali lineari}
Nel calcolo del lavoro di un campo $F \in C^1 (\mathbb{R}^n, \mathbb{R}^n)$, ci imbattiamo in integrande del tipo
\[
    F \cdot  dr = F_1 dx + f_2 dy + F_3 dz
\]
nel caso $n=3$ e con solo i primi due addenti nel caso $n=2$. UN'espressione di questo tipo prende il nome di \textbf{forma differenziale lineare}. Il lavoro si esprime quindi come integrale di linea di una forma differenziale lineare:
\[
    \int_\gamma F \cdot dr = \int\left(\begin{matrix}
        F_1(x,y,z)\\
        F_2(x,y,z)\\
        F_3(x,y,z)
    \end{matrix}\right) \cdot \left(\begin{matrix}
        dx\\dy\\dz
    \end{matrix}\right) = \int_\gamma (F_1 dx + F_2 dy + F_3 dz)
\] 
\newline
Se $F$ è conservativo, esiste un potenziale $U \in C^2(\mathbb{R}^n, \mathbb{R})$ tale che $\nabla U = F$ e cioè
\[
    dU = U_x dx + U_y dy + U_z dz = F_1 dx F_2 dy + F_3 dz
\]
In questo caso, la forma differenziale coincide con il differenziale di $U$ e viene chiamata forma differenziale \textbf{esatta}.\newline
\newline
Se 
\[
    \begin{cases}
        (F_1)_y =(F_2)_x\\
        (F_1)_z =(F_3)_x\\
        (F_2)_z =(F_3)_y
    \end{cases}
\]
allora la funzione $F$ è irrotazionale e la forma differenziale lineare corrispondente viene chiamata forma differenziale \textbf{chiusa}.\newline
\newline
Ogni forma differenziale esatta è anche chiusa, mentre il viceversa non è vero.
\subsection{Flusso e Teorema della divergenza}
\subsubsection{Flusso}
Per calcolare il flusso abbiamo bisogno di
\begin{itemize}
    \item un campo vettoriale $F: C \subseteq \mathbb{R}^3 \rightarrow  \mathbb{R}^3$
    \item una superficie $\Sigma$ dello spazio $\mathbb{R}^3$ espressa in forma parametrica: $\vec{r}(u,v)  = (x(u,v), y(u,v), z(u,v))$
    \item $\vec{n}: \mathbb{R}^3 \rightarrow  \mathbb{R}^3$, il versore normale alla superficie al variare del punto (posizione) $(x,y,z)$ appartenente alla superficie. Bisogna porre attenzione al verso della normale, che solitamente è dato dall'esercizio stesso, per ogni normale potremmo dare dure versi, opposti tra loro. Quando la superficie è espressa in forma parametrica, il vettore normale si ottiene effettuando il prodotto vettoriale tra $\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}$ e quindi il versore normale è dato da:
    \[
        \frac{\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}}{\left|\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}\right|}
    \]
\end{itemize}
Il flusso di un campo vettoriale $F$ attraverso la superficie $\Sigma$ è
\[
    \Phi = \int \int_{\Sigma}F \cdot n d\Sigma = \int \int_S F(r(u,v)) \cdot \frac{\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}}{\left|\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}\right|} \left|\frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v}\right| du dv
\]
\[
    = \int \int_S F(r(u,v)) \cdot \frac{\delta \vec{r}}{\delta u} \; \text{x}\;\frac{\delta \vec{r}}{\delta v} du dv
\]
\newline
Se la superficie è il grafico di una funzione nella forma $z = f(x,y)$ allora la precedente formula si riscrive come:
\[
    \Phi = \int \int_S F(x,y,f(x,y)) \cdot \left( -\frac{\delta f}{\delta x}, -\frac{\delta f}{\delta y}, 1 \right) dx dy
\]
Poichè il terzo elemento del vettore normale è 1 allora esso è rivolto verso le quote crescenti di $z$.\newline
\newline
Se la superficie è espressa in forma implicita dobbiamo parametrizzarla e usare le formule illustrate.
\subsubsection{Teorema della divergenza}
Consideriamo $F \in C^1(\Omega, \mathbb{R}^n)$ con $\Omega \subset \mathbb{R}^n$ e limitato, inoltre sia $\vec{n}$ un versore definito su un punto del bordo di $\Omega$ (detto $\delta\Omega$ ) e perpendicolare al piano tangente in $\delta \Omega$ e orientato verso l'esterno.\newline
Il prodotto scalare $F \cdot \vec{n}$ rappresenta il flusso uscente (se $> 0$, entrante se $<0$)  da $\delta\Omega$.\newline
\newline
\textbf{Teorema della divergenza}:\newline
Sia $\Omega \subset \mathbb{R}^n$ un aperto limitato, semplice rispetto a tutti gli assi cartesiani con versore normale uscente $\vec{n}$ in ogni punto di $\delta\Omega$. Sia $F \in C^1(\bar{\Omega}, \mathbb{R}^n)$ un campo vettoriale. Allora
\[
    \int_\Omega \nabla \cdot  F(x) dx = \int_{\delta\Omega} F \cdot  \vec{n} \; dS
\]
Questo teorema afferma che l'integrale su un dominio della divergenza di un campo è pari al flusso del campo che attraversa la sua frontiera.\newline
Con questo teorema spiagamo anche il significato dell'operatore divergenza: misura il grado di comprimibilità di un fluido e, più in generale, quella di un campo vettoriale.\newline
\newline
In parole più semplici il teorema della divergenza ci permette di dire che:\newline
Se la superficie $l$ è la frontiera di un solido $V$, allora il flusso del campo vettoriale $F$ uscente da $l$ è uguale all'integrale triplo su $V$ della divergenza di $F$:
\[
    Flusso = \int \int_{l}F \cdot n \; dS = \int \int \int_{V} div(F) dx dy dz
\]
\textbf{oss.} se $l$ rappresentasse una superficie $D$, possiamo comunque calcolare il flusso del campo vettoriale attraverso $l$ come l'integrale doppio su $D$.\newline
\textbf{oss.} Si può combinare il calcolo di flussi in superfici e volumi diversi, per alla fine sommarli o sottrarli ed ottenere flussi di figure complesse.